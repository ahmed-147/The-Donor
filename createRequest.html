<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Home </title>
        <link rel="shortcut icon" href="images/hospital.svg" type="image/x-icon">
        <link rel="stylesheet" href="css/generalStyle.css">
        <link href="css/createReqStyle.css" rel="stylesheet" type="text/css">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
        <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        
        <script defer src="js/createScript.js"></script>
         <!-- Latest compiled and minified CSS -->
         <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

         <!-- jQuery library -->
         <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
 
         <!-- Popper JS -->
         <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
 
         <!-- Latest compiled JavaScript -->
         <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
         <script defer src="js/logoutScript.js"></script>

    </head>
    <body>
        <nav class="navbar sticky-top navbar-expand-lg navbar-light bg-light" style="box-shadow: -1px 2px 26px -3px #80808040;">
            <a class="navbar-brand" href="index.html">
                <img src="images/hospital.svg" width="30" height="30" class="d-inline-block align-top" alt="The Donor Brand" loading="lazy">
                The Donor
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link " href="home.html">Requests</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="#">Create Request</a>
                    </li>
                </ul>
                <a href="login.html" style="margin-left:auto; text-decoration: none;" id="logOutDisplay" onclick="logOutfun()"><i class="fa fa-sign-out fa-2x text-dark" aria-hidden="true"></i></a>
            </div>

          </nav>
        
            
            <section id="createRequestDiv" class="container-fluid bg-light" style="padding-bottom:10%;">
                <header class="text-dark d-flex justify-content-center">
                    <h1 class="p-3">
                        Create Request 
                    </h1>
                </header>

                    <form  action="home.html" method="POST" id="RequsetForm" >
                        <section>
                            <section class="lableSection">
                                <label for="applicantName">ِApplicant Name : </label>
                            </section>
                            <section >
                                <input type="text" id="applicantName" name="applicantName" required>
                            </section>
                        </section> 
                        <section>
                            <section class="lableSection">
                                <label for="applicantPhone">Applicant Phone : </label>
                            </section>
                            <section >
                                <input type="tel" id="applicantPhone" name="applicantPhone" required maxlength="11" minlength="11">
                            </section>
                        </section> 
                        <section>
                            <section class="lableSection" >
                                <label for="applicantAddress">Applicant Address : </label>
                            </section>
                            <section >
                                <input type="text" id="applicantAddress" name="applicantAddress" required >
                            </section>
                        </section> 
                        <section>
                            <section class="lableSection" >
                                <label for="requestBloodType">Request Blood Type : </label>
                            </section>
                            <section >
                                <input type="text" id="requestBloodType" name="requestBloodType" required>
                            </section>
                        </section> 
                        <section>
                            <section class="lableSection">
                                <label for="bagsNum">Bags Number : </label>
                            </section>
                            <section >
                                <input type="number" id="bagsNum" name="bagsNum" required>
                            </section>
                        </section> 
                        <section id="btnSection">
                            <button  class="btn btn-info" onclick="Create()" >Create</button>
                        </section>
                        
                                      
                    </form>
              
            </section>

        <!--sidebar -->
        
        <!--footer-->
        <footer class="footer">
            
            <div >
                Copyright &copy; 2021 All Rights Reserved by 
                    <a href="#">ITI Student</a>.
                
                <ul class="social-icons">
                    <li><a class="facebook" href="#"><i class="fa fa-facebook"></i></a></li>
                    <li><a class="twitter" href="#"><i class="fa fa-twitter"></i></a></li>
                    <li><a class="dribbble" href="#"><i class="fa fa-dribbble"></i></a></li>
                    <li><a class="linkedin" href="#"><i class="fa fa-linkedin"></i></a></li>
                </ul>
            </div>
            
              
        </footer>
        <script>

            function Create(obl)
            {
                
                
                if(document.getElementById('RequsetForm').valid)
                {
                var bloodRequestsfromLocalStorage=localStorage.getItem("bloodRequests");
                var bloodRequests=JSON.parse(bloodRequestsfromLocalStorage);
                 
                var id=bloodRequests[bloodRequests.length-1].requestId+1;
                NewRequest={
                "requestId" :id ,
                "applicantName" : document.getElementById('applicantName').value,
                "applicantPhone" : document.getElementById('applicantPhone').value,
                "applicantAddress":document.getElementById('applicantAddress').value,
                "requestStatus" : false,
                "requestBloodType":document.getElementById('requestBloodType').value,
                "bagsNum": document.getElementById('bagsNum').value
                }
                bloodRequests.push(NewRequest);
                localStorage.setItem("bloodRequests",JSON.stringify(bloodRequests));
                window.location.href='BloodRٌٌequests.html';
            }
            }
            
            </script>

    </body> 
</html>